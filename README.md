# Fail2Ban на Almalinux: автоматическая защита от атак на сервер

Fail2Ban — это инструмент для повышения безопасности серверов, который автоматически блокирует IP-адреса, совершающие подозрительные действия (например, подбор паролей по SSH). Fail2Ban анализирует логи сервисов и при превышении заданного количества неудачных попыток блокирует нарушителя через firewall.

## Описание скрипта setup_fail2ban.sh

Скрипт предназначен для автоматической установки и базовой настройки Fail2Ban на сервере RHEL.

### Возможности:
- Установка необходимых пакетов (epel-release, fail2ban, fail2ban-firewalld)
- Включение и настройка firewalld
- Создание базовой конфигурации Fail2Ban (глобальные параметры и jail для SSH)
- Проверка синтаксиса конфигурации
- Запуск и проверка статуса Fail2Ban

### Как использовать
1. Скопируйте скрипт на сервер и дайте права на выполнение:
   ```bash
   chmod +x setup_fail2ban.sh
   ```
2. Запустите скрипт с правами root (через sudo):
   ```bash
   sudo ./setup_fail2ban.sh
   ```
3. Следуйте инструкциям в терминале. После завершения работы скрипта Fail2Ban будет установлен и запущен.

### Полезные команды
- Проверить логи Fail2Ban:
  ```bash
  tail -f /var/log/fail2ban.log
  ```
- Проверить статус:
  ```bash
  fail2ban-client status
  ```
- Заблокировать IP вручную:
  ```bash
  fail2ban-client set sshd banip <IP>
  ```
- Разблокировать IP:
  ```bash
  fail2ban-client set sshd unbanip <IP>
  ```

---
